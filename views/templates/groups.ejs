<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groups - <%= username %>'s Chat Rooms</title>
    <link rel="stylesheet" href="/groups_styles.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <h1>Groups</h1>
        </header>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Left Sidebar: Group List -->
            <div class="groups-list">
                <h2>Your Groups</h2>
                <% if (error) { %>
                    <p class="error"><%= error %></p>
                <% } %>
                <% if (rooms && rooms.length > 0) { %>
                    <ul id="group-list">
                        <% rooms.forEach(room => { %>
                            <li class="group-item" data-room-id="<%= room.room_id %>">
                                <div class="group-image">
                                    <img src="/profile_placeholder.png" alt="Group Placeholder">
                                </div>
                                <div class="group-info">
                                    <p class="group-name"><%= room.name %></p>
                                </div>
                            </li>
                        <% }); %>
                    </ul>
                <% } else { %>
                    <p class="no-groups">No groups joined yet.</p>
                <% } %>
            </div>

            <!-- Right Main Area: Group Name Placeholder -->
            <div class="chat-panel" id="chat-panel">
                <p class="placeholder-text">Select a group to view</p>
            </div>
        </div>
    </div>

    <!-- JavaScript for Group Selection -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const groupItems = document.querySelectorAll('.group-item');
            const chatPanel = document.getElementById('chat-panel');

            groupItems.forEach(item => {
                item.addEventListener('click', () => {
                    // Get the group name from the clicked item
                    const groupName = item.querySelector('.group-name').textContent;
                    // Update the right panel with the group name
                    chatPanel.innerHTML = `<h2>${groupName}</h2>`;
                });
            });
        });
    </script>
</body>
</html>